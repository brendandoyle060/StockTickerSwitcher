(()=>{"use strict";var t,e,r,o,n={199:(t,e,r)=>{r.d(e,{T:()=>n});var o=r(110),n=function(){function t(t,e){this.name=t,this.baseUrl=e}return t.prototype.is=function(){return this.name},t.prototype.createUrlForTicker=function(t){},t.prototype.getTickerType=function(t,e,r){return t.isEtf(r)?new o.C("etf"):t.isCrypto(e)?new o.C("crypto"):new o.C("stock")},t.prototype.isCrypto=function(t){},t.prototype.isEtf=function(t){},t}()},219:(t,e,r)=>{r.d(e,{v:()=>o});var o=function(){function t(t,e,r){this.symbol=t,this.name=this.removeExtraWhitespace(e),this.tickerType=r}return t.prototype.getHyphenatedTickerSymbol=function(){return this.symbol.replace(".","-")},t.prototype.removeExtraWhitespace=function(t){var e=new RegExp("\\s+"),r=t.split(e),o="";return r.forEach((function(t){o=o+t.trim()+" "})),o.trim()},t.prototype.toString=function(){return"Ticker - symbol: ".concat(this.symbol,", name: ").concat(this.name,", type: ").concat(this.tickerType)},t.prototype.equals=function(t){return this.symbol===t.symbol&&this.nameEquals(t.name)&&this.tickerType.equals(t.tickerType)},t.prototype.nameEquals=function(t){var e=this.name.toLowerCase();return t=t.toLowerCase(),e.includes(t)||t.includes(e)},t}()},110:(t,e,r)=>{r.d(e,{C:()=>o});var o=function(){function t(t){if(this.VALID_TYPES=["stock","etf","mutualfund","crypto","future","bond"],t=t.toLowerCase().trim(),!this.isValidType(t))throw new Error("Invalid tickerType: "+t);this.value=t}return t.prototype.isValidType=function(t){return this.VALID_TYPES.includes(t)},t.prototype.toString=function(){return this.value},t.prototype.equals=function(t){return this.value===t.value},t}()}},i={};function c(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,c),r.exports}c.d=(t,e)=>{for(var r in e)c.o(e,r)&&!c.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e=c(199),r=c(219),t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)},o=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)},function(t){function e(){return t.call(this,"YahooFinance","https://finance.yahoo.com")||this}o(e,t),e.prototype.createUrlForTicker=function(t){var e=t.getHyphenatedTickerSymbol();return"crypto"===t.tickerType.value&&(e+="-USD"),"".concat(this.baseUrl,"/quote/").concat(e)},e.prototype.getTicker=function(t,e){return new r.v(this.getTickerFromPage(e,this.isCrypto(e)),this.getName(e),this.getTickerType(this,e,e))},e.prototype.getQuoteHeaderInfoId=function(){return"#quote-header-info"},e.prototype.getName=function(t){var e=this.getCompanyHeader(t).split(" (")[0];return this.removeExtraWhitespace(e)},e.prototype.getTickerFromPage=function(t,e){var r=this.getCompanyHeader(t).split(" (")[1];return r=r.split(")")[0],e&&(r=r.split("-")[0]),this.handleHyphenInTicker(r)},e.prototype.handleHyphenInTicker=function(t){return t.replace("-",".")},e.prototype.getCompanyHeader=function(t){return t.querySelector(this.getQuoteHeaderInfoId()+" h1").textContent.trim()},e.prototype.removeExtraWhitespace=function(t){var e=new RegExp("\\s+"),r=t.split(e),o="";return r.forEach((function(t){o=o+t.trim()+" "})),o.trim()},e.prototype.isCrypto=function(t){return t.querySelector(this.getQuoteHeaderInfoId()+"").textContent.includes("CoinMarketCap")},e.prototype.isEtf=function(t){var e=t.querySelector("#quote-summary");return this.removeExtraWhitespace(e.textContent).includes("Net Assets")}}(e.T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBUSxJQUFJQyxPQUFPLFFBQ25CQyxFQUFRSCxFQUFJRyxNQUFNRixHQUNsQkcsRUFBTyxHQUtYLE9BSkFELEVBQU1FLFNBQVEsU0FBVUMsR0FDcEJGLEVBQU9BLEVBQU9FLEVBQUtDLE9BQVMsR0FDaEMsSUFFT0gsRUFBS0csTUFDaEIsRUFFQSxZQUFBZCxTQUFBLFNBQVNGLEdBSUwsT0FIc0JBLEVBQVM2RCxjQUMzQnBFLEtBQUsrRCx1QkFBeUIsSUFFWE0sWUFBWXRDLFNBQVMsZ0JBQ2hELEVBRUEsWUFBQXZCLE1BQUEsU0FBTUQsR0FDRixJQUFJK0QsRUFBZS9ELEVBQVM2RCxjQUFjLGtCQUkxQyxPQUhvQnBFLEtBQUthLHNCQUNyQnlELEVBQWFELGFBRUl0QyxTQUFTLGFBQ2xDLENBQ0osQ0FwRkEsQ0FBa0MsSSIsInNvdXJjZXMiOlsid2VicGFjazovL3JvYmluaG9vZHRveWFob29maW5hbmNlLy4vc3JjL3NpdGVzL1NpdGUudHMiLCJ3ZWJwYWNrOi8vcm9iaW5ob29kdG95YWhvb2ZpbmFuY2UvLi9zcmMvdGlja2Vycy9UaWNrZXIudHMiLCJ3ZWJwYWNrOi8vcm9iaW5ob29kdG95YWhvb2ZpbmFuY2UvLi9zcmMvdGlja2Vycy9UaWNrZXJUeXBlLnRzIiwid2VicGFjazovL3JvYmluaG9vZHRveWFob29maW5hbmNlL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3JvYmluaG9vZHRveWFob29maW5hbmNlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9yb2Jpbmhvb2R0b3lhaG9vZmluYW5jZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3JvYmluaG9vZHRveWFob29maW5hbmNlLy4vc3JjL3NpdGVzL1lhaG9vRmluYW5jZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUaWNrZXIgfSBmcm9tIFwiLi4vdGlja2Vycy9UaWNrZXJcIjtcbmltcG9ydCB7IFRpY2tlclR5cGUgfSBmcm9tIFwiLi4vdGlja2Vycy9UaWNrZXJUeXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBTaXRlIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYmFzZVVybDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBiYXNlVXJsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICB9XG5cbiAgICBpcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIGNyZWF0ZVVybEZvclRpY2tlcih0aWNrZXI6IFRpY2tlcik6IGFueSB7fVxuXG4gICAgZ2V0VGlja2VyVHlwZShzaXRlOiBTaXRlLCBjcnlwdG9Bcmc6IGFueSwgZG9jdW1lbnQ6IERvY3VtZW50KTogVGlja2VyVHlwZSB7XG4gICAgICAgIGlmIChzaXRlLmlzRXRmKGRvY3VtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUaWNrZXJUeXBlKFwiZXRmXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHNpdGUuaXNDcnlwdG8oY3J5cHRvQXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUaWNrZXJUeXBlKFwiY3J5cHRvXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUaWNrZXJUeXBlKFwic3RvY2tcIik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdHlwZSBoZXJlIGlzIFwiYW55XCIsIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byByZXR1cm4gYSB2YWx1ZSBpbiB0aGUgc3VwZXJjbGFzcywgd2hpY2ggd2Ugd291bGQgaGF2ZSB0byBzaW5jZSB3ZSdyZSB1c2luZyB0aGVtIGluIGdldFRpY2tlclR5cGUgYWJvdmUuXG4gICAgLy8gSW1wbGVtZW50YXRpb25zIG9mIHRoZXNlIG1ldGhvZHMgaW4gc3ViY2xhc3NlcyBzaG91bGQgcmV0dXJuIGEgYm9vbGVhbi5cbiAgICBpc0NyeXB0byh4OiBhbnkpOiBhbnkge31cbiAgICBpc0V0Zihkb2N1bWVudDogRG9jdW1lbnQpOiBhbnkge31cbn1cbiIsImltcG9ydCB7IFRpY2tlclR5cGUgfSBmcm9tIFwiLi9UaWNrZXJUeXBlXCI7XG5cbmV4cG9ydCBjbGFzcyBUaWNrZXIge1xuICAgIHN5bWJvbDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB0aWNrZXJUeXBlOiBUaWNrZXJUeXBlO1xuXG4gICAgY29uc3RydWN0b3Ioc3ltYm9sOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdGlja2VyVHlwZTogVGlja2VyVHlwZSkge1xuICAgICAgICB0aGlzLnN5bWJvbCA9IHN5bWJvbDtcbiAgICAgICAgdGhpcy5uYW1lID0gdGhpcy5yZW1vdmVFeHRyYVdoaXRlc3BhY2UobmFtZSk7XG4gICAgICAgIHRoaXMudGlja2VyVHlwZSA9IHRpY2tlclR5cGU7XG4gICAgfVxuXG4gICAgZ2V0SHlwaGVuYXRlZFRpY2tlclN5bWJvbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sLnJlcGxhY2UoXCIuXCIsIFwiLVwiKTtcbiAgICB9XG5cbiAgICByZW1vdmVFeHRyYVdoaXRlc3BhY2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKFwiXFxcXHMrXCIpO1xuICAgICAgICBsZXQgc3BsaXQgPSBzdHIuc3BsaXQocmVnZXgpO1xuICAgICAgICBsZXQgZnVsbCA9IFwiXCI7XG4gICAgICAgIHNwbGl0LmZvckVhY2goZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgICAgIGZ1bGwgPSBmdWxsICsgd29yZC50cmltKCkgKyBcIiBcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEdldCByaWQgb2YgdGhlIG9uZSBleHRyYSBzcGFjZSBhdCB0aGUgZW5kIGJlZm9yZSB3ZSByZXR1cm5cbiAgICAgICAgcmV0dXJuIGZ1bGwudHJpbSgpO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgVGlja2VyIC0gc3ltYm9sOiAke3RoaXMuc3ltYm9sfSwgbmFtZTogJHt0aGlzLm5hbWV9LCB0eXBlOiAke3RoaXMudGlja2VyVHlwZX1gO1xuICAgIH1cblxuICAgIGVxdWFscyh0aGF0OiBUaWNrZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuc3ltYm9sID09PSB0aGF0LnN5bWJvbCAmJlxuICAgICAgICAgICAgdGhpcy5uYW1lRXF1YWxzKHRoYXQubmFtZSkgJiZcbiAgICAgICAgICAgIHRoaXMudGlja2VyVHlwZS5lcXVhbHModGhhdC50aWNrZXJUeXBlKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBhIGdpdmVuIGNvbXBhbnkncyBuYW1lIG1hdGNoZXMgdGhpcyBjb21wYW55J3MgbmFtZS5cbiAgICAgKiBTaW5jZSB0aGVzZSB2YWx1ZXMgYXJlIGJlaW5nIHB1bGxlZCBmcm9tIGVhY2ggc2l0ZSB3ZSdyZSB2aXNpdGluZyAoYW5kIHdlIGNhbid0IGNvbnRyb2wgd2hhdCB0aGV5IGNhbGwgdGhlbSksXG4gICAgICogYW5kIHNpbmNlIHRoZXNlIGVxdWFsaXR5IGZ1bmN0aW9ucyBhcmUgKGF0IGxlYXN0IHNvIGZhcikgb25seSBiZWluZyB1c2VkIHRvIGZhY2lsaXRhdGUgdW5pdCB0ZXN0aW5nIGFueXdheSxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGlzIGJhc2ljYWxseSBqdXN0IGNoZWNraW5nIHRvIHNlZSBpZiB0aGUgbmFtZXMgYXJlIFwiY2xvc2UgZW5vdWdoXCIgYnkgY2hlY2tpbmcgdG8gc2VlIGlmIG9uZSBzdHJpbmcgaW5jbHVkZXMgdGhlIG90aGVyLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIHRoZSBSSCBwYWdlIGZvciAkU1BZIGNhbGxzIGl0IFwiU1BEUiBTJlAgNTAwIEVURlwiLCB3aGlsZSBZRiBjYWxscyBpdCBcIlNQRFIgUyZQIDUwMCBFVEYgVHJ1c3RcIi5cbiAgICAgKiBFdmVuIHRob3VnaCB0aGUgc3RyaW5ncyBhcmVuJ3QgaWRlbnRpY2FsLCB3ZSBzdGlsbCB3YW50IHRoZXNlIHRvIGJlIGNvbnNpZGVyZWQgZXF1YWwsIHNvIHdlIGNhbiBqdXN0IGNoZWNrIGlmIG9uZSBjb250YWlucyB0aGUgb3RoZXIsIHdoaWNoIGl0IGRvZXMuXG4gICAgICpcbiAgICAgKiBUT0RPIC0gdGhlcmUgd2lsbCBwcm9iYWJseSBiZSBzb21lIGVkZ2UgY2FzZXMgZm9yIHdoaWNoIHRoaXMgc29sdXRpb24gd2lsbCBub3Qgd29yaywgc28gdGhpcyB3aWxsIGxpa2VseSBoYXZlIHRvIGJlIHJldmlzZWQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aGF0TmFtZSAtIG5hbWUgb2YgdGhlIGNvbXBhbnkgdG8gd2hpY2ggd2UncmUgY29tcGFyaW5nIHRoaXMgY29tcGFueVxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGNvbXBhbmllcycgbmFtZXMgYXJlIHRoZSBzYW1lIChvciBhdCBsZWFzdCwgY2xvc2UgZW5vdWdoKVxuICAgICAqL1xuICAgIG5hbWVFcXVhbHModGhhdE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgdGhpc05hbWUgPSB0aGlzLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhhdE5hbWUgPSB0aGF0TmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzTmFtZS5pbmNsdWRlcyh0aGF0TmFtZSkgfHwgdGhhdE5hbWUuaW5jbHVkZXModGhpc05hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBUaWNrZXJUeXBlIHtcbiAgICBWQUxJRF9UWVBFUyA9IFtcInN0b2NrXCIsIFwiZXRmXCIsIFwibXV0dWFsZnVuZFwiLCBcImNyeXB0b1wiLCBcImZ1dHVyZVwiLCBcImJvbmRcIl07XG4gICAgdmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHRpY2tlclR5cGU6IHN0cmluZykge1xuICAgICAgICB0aWNrZXJUeXBlID0gdGlja2VyVHlwZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZFR5cGUodGlja2VyVHlwZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aWNrZXJUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0aWNrZXJUeXBlOiBcIiArIHRpY2tlclR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNWYWxpZFR5cGUodHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5WQUxJRF9UWVBFUy5pbmNsdWRlcyh0dCk7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgZXF1YWxzKHRoYXQ6IFRpY2tlclR5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IHRoYXQudmFsdWU7XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyBTaXRlIH0gZnJvbSBcIi4vU2l0ZVwiO1xuaW1wb3J0IHsgVGlja2VyVHlwZSB9IGZyb20gXCIuLi90aWNrZXJzL1RpY2tlclR5cGVcIjtcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gXCIuLi90aWNrZXJzL1RpY2tlclwiO1xuXG5leHBvcnQgY2xhc3MgWWFob29GaW5hbmNlIGV4dGVuZHMgU2l0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiWWFob29GaW5hbmNlXCIsIGBodHRwczovL2ZpbmFuY2UueWFob28uY29tYCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVXJsRm9yVGlja2VyKHRpY2tlcjogVGlja2VyKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHM6IHN0cmluZyA9IHRpY2tlci5nZXRIeXBoZW5hdGVkVGlja2VyU3ltYm9sKCk7XG5cbiAgICAgICAgLy8gSWYgdGhlIHBhZ2UgdGhhdCB3ZSdyZSBvbiBpcyBmb3IgYSBzdG9jayBvciBFVEYsIHRoZW4gd2UgY2FuIGp1c3QgbGVhdmUgdGhlIHRpY2tlciBhcy1pcy5cbiAgICAgICAgLy8gSWYgdGhlIHBhZ2UgdGhhdCB3ZSdyZSBvbiBpcyBmb3IgYSBjcnlwdG9jdXJyZW5jeSwgdGhlbiB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIGFkanVzdCB0aGUgdGlja2VyIHRvIGFkZCB0aGUgXCJxdW90ZSBjdXJyZW5jeVwiIC0tXG4gICAgICAgIC8vIHRoZSBjdXJyZW5jeSBmb3Igd2hpY2ggd2UncmUgZGlzcGxheWluZyB0aGUgZXhjaGFuZ2UgcmF0ZSB0byB0aGUgY3J5cHRvY3VycmVuY3kuXG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIHdlJ2xsIHVzZSB0aGUgVVMgRG9sbGFyIChcIlVTRFwiKS5cbiAgICAgICAgLy8gVE9ETzogQWxsb3cgdXNlciB0byBzZWxlY3QgdGhlaXIgcHJlZmVycmVkIHF1b3RlIGN1cnJlbmN5IGluIE9wdGlvbnMgbWVudS5cbiAgICAgICAgaWYgKHRpY2tlci50aWNrZXJUeXBlLnZhbHVlID09PSBcImNyeXB0b1wiKSB7XG4gICAgICAgICAgICBzID0gcyArIGAtVVNEYDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYCR7dGhpcy5iYXNlVXJsfS9xdW90ZS8ke3N9YDtcbiAgICB9XG5cbiAgICBnZXRUaWNrZXIodXJsOiBzdHJpbmcsIGRvY3VtZW50OiBEb2N1bWVudCk6IFRpY2tlciB7XG4gICAgICAgIHJldHVybiBuZXcgVGlja2VyKFxuICAgICAgICAgICAgdGhpcy5nZXRUaWNrZXJGcm9tUGFnZShkb2N1bWVudCwgdGhpcy5pc0NyeXB0byhkb2N1bWVudCkpLFxuICAgICAgICAgICAgdGhpcy5nZXROYW1lKGRvY3VtZW50KSxcbiAgICAgICAgICAgIHRoaXMuZ2V0VGlja2VyVHlwZSh0aGlzLCBkb2N1bWVudCwgZG9jdW1lbnQpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0UXVvdGVIZWFkZXJJbmZvSWQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwiI3F1b3RlLWhlYWRlci1pbmZvXCI7XG4gICAgfVxuXG4gICAgZ2V0TmFtZShkb2N1bWVudDogRG9jdW1lbnQpOiBzdHJpbmcge1xuICAgICAgICBsZXQgbmFtZSA9IHRoaXMuZ2V0Q29tcGFueUhlYWRlcihkb2N1bWVudCk7XG4gICAgICAgIGxldCBuYW1lV2l0aFRpY2tlclJlbW92ZWQgPSBuYW1lLnNwbGl0KFwiIChcIilbMF07XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUV4dHJhV2hpdGVzcGFjZShuYW1lV2l0aFRpY2tlclJlbW92ZWQpO1xuICAgIH1cblxuICAgIGdldFRpY2tlckZyb21QYWdlKGRvY3VtZW50OiBEb2N1bWVudCwgaXNDcnlwdG86IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgICAgICBsZXQgbmFtZSA9IHRoaXMuZ2V0Q29tcGFueUhlYWRlcihkb2N1bWVudCk7XG4gICAgICAgIGxldCBjbGVhbmVkVXBTeW1ib2wgPSBuYW1lLnNwbGl0KFwiIChcIilbMV07XG4gICAgICAgIGNsZWFuZWRVcFN5bWJvbCA9IGNsZWFuZWRVcFN5bWJvbC5zcGxpdChcIilcIilbMF07XG4gICAgICAgIGlmIChpc0NyeXB0bykge1xuICAgICAgICAgICAgY2xlYW5lZFVwU3ltYm9sID0gY2xlYW5lZFVwU3ltYm9sLnNwbGl0KFwiLVwiKVswXTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhbmVkVXBTeW1ib2wgPSB0aGlzLmhhbmRsZUh5cGhlbkluVGlja2VyKGNsZWFuZWRVcFN5bWJvbCk7XG4gICAgICAgIHJldHVybiBjbGVhbmVkVXBTeW1ib2w7XG4gICAgfVxuXG4gICAgaGFuZGxlSHlwaGVuSW5UaWNrZXIodGlja2VyOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRpY2tlci5yZXBsYWNlKFwiLVwiLCBcIi5cIik7XG4gICAgfVxuXG4gICAgZ2V0Q29tcGFueUhlYWRlcihkb2N1bWVudDogRG9jdW1lbnQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuZ2V0UXVvdGVIZWFkZXJJbmZvSWQoKSArIFwiIGgxXCIpXG4gICAgICAgICAgICAudGV4dENvbnRlbnQudHJpbSgpO1xuICAgIH1cblxuICAgIHJlbW92ZUV4dHJhV2hpdGVzcGFjZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGxldCByZWdleCA9IG5ldyBSZWdFeHAoXCJcXFxccytcIik7XG4gICAgICAgIGxldCBzcGxpdCA9IHN0ci5zcGxpdChyZWdleCk7XG4gICAgICAgIGxldCBmdWxsID0gXCJcIjtcbiAgICAgICAgc3BsaXQuZm9yRWFjaChmdW5jdGlvbiAod29yZCkge1xuICAgICAgICAgICAgZnVsbCA9IGZ1bGwgKyB3b3JkLnRyaW0oKSArIFwiIFwiO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gR2V0IHJpZCBvZiB0aGUgb25lIGV4dHJhIHNwYWNlIGF0IHRoZSBlbmQgYmVmb3JlIHdlIHJldHVyblxuICAgICAgICByZXR1cm4gZnVsbC50cmltKCk7XG4gICAgfVxuXG4gICAgaXNDcnlwdG8oZG9jdW1lbnQ6IERvY3VtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBxdW90ZUhlYWRlckluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgdGhpcy5nZXRRdW90ZUhlYWRlckluZm9JZCgpICsgXCJcIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcXVvdGVIZWFkZXJJbmZvLnRleHRDb250ZW50LmluY2x1ZGVzKFwiQ29pbk1hcmtldENhcFwiKTtcbiAgICB9XG5cbiAgICBpc0V0Zihkb2N1bWVudDogRG9jdW1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHF1b3RlU3VtbWFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcXVvdGUtc3VtbWFyeVwiKTtcbiAgICAgICAgbGV0IHRleHRDbGVhbmVkVXAgPSB0aGlzLnJlbW92ZUV4dHJhV2hpdGVzcGFjZShcbiAgICAgICAgICAgIHF1b3RlU3VtbWFyeS50ZXh0Q29udGVudFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGV4dENsZWFuZWRVcC5pbmNsdWRlcyhcIk5ldCBBc3NldHNcIik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIm5hbWUiLCJiYXNlVXJsIiwidGhpcyIsImlzIiwiY3JlYXRlVXJsRm9yVGlja2VyIiwidGlja2VyIiwiZ2V0VGlja2VyVHlwZSIsInNpdGUiLCJjcnlwdG9BcmciLCJkb2N1bWVudCIsImlzRXRmIiwiaXNDcnlwdG8iLCJ4Iiwic3ltYm9sIiwidGlja2VyVHlwZSIsInJlbW92ZUV4dHJhV2hpdGVzcGFjZSIsImdldEh5cGhlbmF0ZWRUaWNrZXJTeW1ib2wiLCJyZXBsYWNlIiwic3RyIiwicmVnZXgiLCJSZWdFeHAiLCJzcGxpdCIsImZ1bGwiLCJmb3JFYWNoIiwid29yZCIsInRyaW0iLCJ0b1N0cmluZyIsImVxdWFscyIsInRoYXQiLCJuYW1lRXF1YWxzIiwidGhhdE5hbWUiLCJ0aGlzTmFtZSIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJWQUxJRF9UWVBFUyIsImlzVmFsaWRUeXBlIiwiRXJyb3IiLCJ2YWx1ZSIsInR0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicyIsImdldFRpY2tlciIsInVybCIsImdldFRpY2tlckZyb21QYWdlIiwiZ2V0TmFtZSIsImdldFF1b3RlSGVhZGVySW5mb0lkIiwibmFtZVdpdGhUaWNrZXJSZW1vdmVkIiwiZ2V0Q29tcGFueUhlYWRlciIsImNsZWFuZWRVcFN5bWJvbCIsImhhbmRsZUh5cGhlbkluVGlja2VyIiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwicXVvdGVTdW1tYXJ5Il0sInNvdXJjZVJvb3QiOiIifQ==