(()=>{"use strict";var t,e,r,o,n={199:(t,e,r)=>{r.d(e,{T:()=>n});var o=r(110),n=function(){function t(t,e){this.name=t,this.baseUrl=e}return t.prototype.is=function(){return this.name},t.prototype.createUrlForTicker=function(t){},t.prototype.getTickerType=function(t,e,r){return t.isEtf(r)?new o.C("etf"):t.isCrypto(e)?new o.C("crypto"):new o.C("stock")},t.prototype.isCrypto=function(t){},t.prototype.isEtf=function(t){},t.prototype.isNoResultsPage=function(t){},t}()},219:(t,e,r)=>{r.d(e,{v:()=>o});var o=function(){function t(t,e,r){this.symbol=this.convertHyphenInTickerSymbol(t),this.name=this.removeExtraWhitespace(e),this.tickerType=r}return t.prototype.convertHyphenInTickerSymbol=function(t){return t.replace("-",".")},t.prototype.getHyphenatedTickerSymbol=function(){return this.symbol.replace(".","-")},t.prototype.removeExtraWhitespace=function(t){var e=new RegExp("\\s+"),r=t.split(e),o="";return r.forEach((function(t){o=o+t.trim()+" "})),o.trim()},t.prototype.toString=function(){return"Ticker - symbol: ".concat(this.symbol,", name: ").concat(this.name,", type: ").concat(this.tickerType)},t.prototype.equals=function(t){return this.symbol===t.symbol&&this.nameEquals(t.name)&&this.tickerType.equals(t.tickerType)},t.prototype.nameEquals=function(t){var e=this.name.toLowerCase();return t=t.toLowerCase(),e.includes(t)||t.includes(e)},t}()},110:(t,e,r)=>{r.d(e,{C:()=>o});var o=function(){function t(t){if(this.VALID_TYPES=["stock","etf","mutualfund","crypto","future","bond"],t=t.toLowerCase().trim(),!this.isValidType(t))throw new Error("Invalid tickerType: "+t);this.value=t}return t.prototype.isValidType=function(t){return this.VALID_TYPES.includes(t)},t.prototype.toString=function(){return this.value},t.prototype.equals=function(t){return this.value===t.value},t}()}},i={};function c(t){var e=i[t];if(void 0!==e)return e.exports;var r=i[t]={exports:{}};return n[t](r,r.exports,c),r.exports}c.d=(t,e)=>{for(var r in e)c.o(e,r)&&!c.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e=c(199),r=c(219),t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)},o=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)},function(t){function e(){return t.call(this,"Robinhood","https://robinhood.com")||this}o(e,t),e.prototype.createUrlForTicker=function(t){return"crypto"===t.tickerType.value?"".concat(this.baseUrl,"/").concat(t.tickerType.value,"/").concat(t.symbol):"".concat(this.baseUrl,"/stocks/").concat(t.symbol)},e.prototype.getTicker=function(t,e){return new r.v(this.getTickerFromUrl(t),this.getName(e),this.getTickerType(this,t,e))},e.prototype.getTickerFromUrl=function(t){var e=t.split("/"),r=e.length-1,o=e[r];return 0===o.trim().length&&(o=e[r-1]),o},e.prototype.getName=function(t){return t.querySelector("main h1").textContent.trim()},e.prototype.isCrypto=function(t){return t.includes("crypto")},e.prototype.isEtf=function(t){return!(null===t.querySelector("#etf-category"))},e.prototype.isNoResultsPage=function(t){return t.querySelector("html title").textContent.includes("Page not found")}}(e.T)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQ2RDLFlBQVluQyxTQUFTLGlCQUM5QixDQUNKLENBcERBLENBQStCLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yb2Jpbmhvb2R0b3lhaG9vZmluYW5jZS8uL3NyYy9zaXRlcy9TaXRlLnRzIiwid2VicGFjazovL3JvYmluaG9vZHRveWFob29maW5hbmNlLy4vc3JjL3RpY2tlcnMvVGlja2VyLnRzIiwid2VicGFjazovL3JvYmluaG9vZHRveWFob29maW5hbmNlLy4vc3JjL3RpY2tlcnMvVGlja2VyVHlwZS50cyIsIndlYnBhY2s6Ly9yb2Jpbmhvb2R0b3lhaG9vZmluYW5jZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9yb2Jpbmhvb2R0b3lhaG9vZmluYW5jZS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vcm9iaW5ob29kdG95YWhvb2ZpbmFuY2Uvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9yb2Jpbmhvb2R0b3lhaG9vZmluYW5jZS8uL3NyYy9zaXRlcy9Sb2Jpbmhvb2QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGlja2VyIH0gZnJvbSBcIi4uL3RpY2tlcnMvVGlja2VyXCI7XG5pbXBvcnQgeyBUaWNrZXJUeXBlIH0gZnJvbSBcIi4uL3RpY2tlcnMvVGlja2VyVHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgU2l0ZSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGJhc2VVcmw6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgYmFzZVVybDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgfVxuXG4gICAgaXMoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBjcmVhdGVVcmxGb3JUaWNrZXIodGlja2VyOiBUaWNrZXIpOiBhbnkge31cblxuICAgIGdldFRpY2tlclR5cGUoc2l0ZTogU2l0ZSwgY3J5cHRvQXJnOiBhbnksIGRvY3VtZW50OiBEb2N1bWVudCk6IFRpY2tlclR5cGUge1xuICAgICAgICBpZiAoc2l0ZS5pc0V0Zihkb2N1bWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGlja2VyVHlwZShcImV0ZlwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaXRlLmlzQ3J5cHRvKGNyeXB0b0FyZykpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGlja2VyVHlwZShcImNyeXB0b1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGlja2VyVHlwZShcInN0b2NrXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIHR5cGUgaGVyZSBpcyBcImFueVwiLCBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gcmV0dXJuIGEgdmFsdWUgaW4gdGhlIHN1cGVyY2xhc3MsIHdoaWNoIHdlIHdvdWxkIGhhdmUgdG8gc2luY2Ugd2UncmUgdXNpbmcgdGhlbSBpbiBnZXRUaWNrZXJUeXBlIGFib3ZlLlxuICAgIC8vIEltcGxlbWVudGF0aW9ucyBvZiB0aGVzZSBtZXRob2RzIGluIHN1YmNsYXNzZXMgc2hvdWxkIHJldHVybiBhIGJvb2xlYW4uXG4gICAgaXNDcnlwdG8oeDogYW55KTogYW55IHt9XG4gICAgaXNFdGYoZG9jdW1lbnQ6IERvY3VtZW50KTogYW55IHt9XG5cbiAgICBpc05vUmVzdWx0c1BhZ2UoZG9jdW1lbnQ6IERvY3VtZW50KTogYW55IHt9XG59XG4iLCJpbXBvcnQgeyBUaWNrZXJUeXBlIH0gZnJvbSBcIi4vVGlja2VyVHlwZVwiO1xuXG5leHBvcnQgY2xhc3MgVGlja2VyIHtcbiAgICBzeW1ib2w6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdGlja2VyVHlwZTogVGlja2VyVHlwZTtcblxuICAgIGNvbnN0cnVjdG9yKHN5bWJvbDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHRpY2tlclR5cGU6IFRpY2tlclR5cGUpIHtcbiAgICAgICAgdGhpcy5zeW1ib2wgPSB0aGlzLmNvbnZlcnRIeXBoZW5JblRpY2tlclN5bWJvbChzeW1ib2wpO1xuICAgICAgICB0aGlzLm5hbWUgPSB0aGlzLnJlbW92ZUV4dHJhV2hpdGVzcGFjZShuYW1lKTtcbiAgICAgICAgdGhpcy50aWNrZXJUeXBlID0gdGlja2VyVHlwZTtcbiAgICB9XG5cbiAgICBjb252ZXJ0SHlwaGVuSW5UaWNrZXJTeW1ib2woc3ltYm9sOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbC5yZXBsYWNlKFwiLVwiLCBcIi5cIik7XG4gICAgfVxuXG4gICAgZ2V0SHlwaGVuYXRlZFRpY2tlclN5bWJvbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ltYm9sLnJlcGxhY2UoXCIuXCIsIFwiLVwiKTtcbiAgICB9XG5cbiAgICByZW1vdmVFeHRyYVdoaXRlc3BhY2Uoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVnZXggPSBuZXcgUmVnRXhwKFwiXFxcXHMrXCIpO1xuICAgICAgICBsZXQgc3BsaXQgPSBzdHIuc3BsaXQocmVnZXgpO1xuICAgICAgICBsZXQgZnVsbCA9IFwiXCI7XG4gICAgICAgIHNwbGl0LmZvckVhY2goZnVuY3Rpb24gKHdvcmQpIHtcbiAgICAgICAgICAgIGZ1bGwgPSBmdWxsICsgd29yZC50cmltKCkgKyBcIiBcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEdldCByaWQgb2YgdGhlIG9uZSBleHRyYSBzcGFjZSBhdCB0aGUgZW5kIGJlZm9yZSB3ZSByZXR1cm5cbiAgICAgICAgcmV0dXJuIGZ1bGwudHJpbSgpO1xuICAgIH1cblxuICAgIHRvU3RyaW5nKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgVGlja2VyIC0gc3ltYm9sOiAke3RoaXMuc3ltYm9sfSwgbmFtZTogJHt0aGlzLm5hbWV9LCB0eXBlOiAke3RoaXMudGlja2VyVHlwZX1gO1xuICAgIH1cblxuICAgIGVxdWFscyh0aGF0OiBUaWNrZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuc3ltYm9sID09PSB0aGF0LnN5bWJvbCAmJlxuICAgICAgICAgICAgdGhpcy5uYW1lRXF1YWxzKHRoYXQubmFtZSkgJiZcbiAgICAgICAgICAgIHRoaXMudGlja2VyVHlwZS5lcXVhbHModGhhdC50aWNrZXJUeXBlKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBhIGdpdmVuIGNvbXBhbnkncyBuYW1lIG1hdGNoZXMgdGhpcyBjb21wYW55J3MgbmFtZS5cbiAgICAgKiBTaW5jZSB0aGVzZSB2YWx1ZXMgYXJlIGJlaW5nIHB1bGxlZCBmcm9tIGVhY2ggc2l0ZSB3ZSdyZSB2aXNpdGluZyAoYW5kIHdlIGNhbid0IGNvbnRyb2wgd2hhdCB0aGV5IGNhbGwgdGhlbSksXG4gICAgICogYW5kIHNpbmNlIHRoZXNlIGVxdWFsaXR5IGZ1bmN0aW9ucyBhcmUgKGF0IGxlYXN0IHNvIGZhcikgb25seSBiZWluZyB1c2VkIHRvIGZhY2lsaXRhdGUgdW5pdCB0ZXN0aW5nIGFueXdheSxcbiAgICAgKiB0aGlzIGZ1bmN0aW9uIGlzIGJhc2ljYWxseSBqdXN0IGNoZWNraW5nIHRvIHNlZSBpZiB0aGUgbmFtZXMgYXJlIFwiY2xvc2UgZW5vdWdoXCIgYnkgY2hlY2tpbmcgdG8gc2VlIGlmIG9uZSBzdHJpbmcgaW5jbHVkZXMgdGhlIG90aGVyLlxuICAgICAqXG4gICAgICogRm9yIGV4YW1wbGUsIHRoZSBSSCBwYWdlIGZvciAkU1BZIGNhbGxzIGl0IFwiU1BEUiBTJlAgNTAwIEVURlwiLCB3aGlsZSBZRiBjYWxscyBpdCBcIlNQRFIgUyZQIDUwMCBFVEYgVHJ1c3RcIi5cbiAgICAgKiBFdmVuIHRob3VnaCB0aGUgc3RyaW5ncyBhcmVuJ3QgaWRlbnRpY2FsLCB3ZSBzdGlsbCB3YW50IHRoZXNlIHRvIGJlIGNvbnNpZGVyZWQgZXF1YWwsIHNvIHdlIGNhbiBqdXN0IGNoZWNrIGlmIG9uZSBjb250YWlucyB0aGUgb3RoZXIsIHdoaWNoIGl0IGRvZXMuXG4gICAgICpcbiAgICAgKiBUT0RPIC0gdGhlcmUgd2lsbCBwcm9iYWJseSBiZSBzb21lIGVkZ2UgY2FzZXMgZm9yIHdoaWNoIHRoaXMgc29sdXRpb24gd2lsbCBub3Qgd29yaywgc28gdGhpcyB3aWxsIGxpa2VseSBoYXZlIHRvIGJlIHJldmlzZWQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aGF0TmFtZSAtIG5hbWUgb2YgdGhlIGNvbXBhbnkgdG8gd2hpY2ggd2UncmUgY29tcGFyaW5nIHRoaXMgY29tcGFueVxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGNvbXBhbmllcycgbmFtZXMgYXJlIHRoZSBzYW1lIChvciBhdCBsZWFzdCwgY2xvc2UgZW5vdWdoKVxuICAgICAqL1xuICAgIG5hbWVFcXVhbHModGhhdE5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgdGhpc05hbWUgPSB0aGlzLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGhhdE5hbWUgPSB0aGF0TmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzTmFtZS5pbmNsdWRlcyh0aGF0TmFtZSkgfHwgdGhhdE5hbWUuaW5jbHVkZXModGhpc05hbWUpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBUaWNrZXJUeXBlIHtcbiAgICBWQUxJRF9UWVBFUyA9IFtcInN0b2NrXCIsIFwiZXRmXCIsIFwibXV0dWFsZnVuZFwiLCBcImNyeXB0b1wiLCBcImZ1dHVyZVwiLCBcImJvbmRcIl07XG4gICAgdmFsdWU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKHRpY2tlclR5cGU6IHN0cmluZykge1xuICAgICAgICB0aWNrZXJUeXBlID0gdGlja2VyVHlwZS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcbiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZFR5cGUodGlja2VyVHlwZSkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aWNrZXJUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0aWNrZXJUeXBlOiBcIiArIHRpY2tlclR5cGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNWYWxpZFR5cGUodHQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5WQUxJRF9UWVBFUy5pbmNsdWRlcyh0dCk7XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgZXF1YWxzKHRoYXQ6IFRpY2tlclR5cGUpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IHRoYXQudmFsdWU7XG4gICAgfVxufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyBTaXRlIH0gZnJvbSBcIi4vU2l0ZVwiO1xuaW1wb3J0IHsgVGlja2VyVHlwZSB9IGZyb20gXCIuLi90aWNrZXJzL1RpY2tlclR5cGVcIjtcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gXCIuLi90aWNrZXJzL1RpY2tlclwiO1xuXG5leHBvcnQgY2xhc3MgUm9iaW5ob29kIGV4dGVuZHMgU2l0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiUm9iaW5ob29kXCIsIGBodHRwczovL3JvYmluaG9vZC5jb21gKTtcbiAgICB9XG5cbiAgICBjcmVhdGVVcmxGb3JUaWNrZXIodGlja2VyOiBUaWNrZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGlja2VyLnRpY2tlclR5cGUudmFsdWUgPT09IFwiY3J5cHRvXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHt0aGlzLmJhc2VVcmx9LyR7dGlja2VyLnRpY2tlclR5cGUudmFsdWV9LyR7dGlja2VyLnN5bWJvbH1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRVRGcyBhbHNvIGdldCB0aGUgJ3N0b2NrcycgcGF0aCBpbiB0aGUgdXJsIG9uIFJIXG4gICAgICAgICAgICByZXR1cm4gYCR7dGhpcy5iYXNlVXJsfS9zdG9ja3MvJHt0aWNrZXIuc3ltYm9sfWA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRUaWNrZXIodXJsOiBzdHJpbmcsIGRvY3VtZW50OiBEb2N1bWVudCk6IFRpY2tlciB7XG4gICAgICAgIHJldHVybiBuZXcgVGlja2VyKFxuICAgICAgICAgICAgdGhpcy5nZXRUaWNrZXJGcm9tVXJsKHVybCksXG4gICAgICAgICAgICB0aGlzLmdldE5hbWUoZG9jdW1lbnQpLFxuICAgICAgICAgICAgdGhpcy5nZXRUaWNrZXJUeXBlKHRoaXMsIHVybCwgZG9jdW1lbnQpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0VGlja2VyRnJvbVVybCh1cmw6IHN0cmluZykge1xuICAgICAgICBsZXQgc3BsaXRBcnJheSA9IHVybC5zcGxpdChcIi9cIik7XG5cbiAgICAgICAgbGV0IGxhc3RJbmRleCA9IHNwbGl0QXJyYXkubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IHRpY2tlciA9IHNwbGl0QXJyYXlbbGFzdEluZGV4XTtcbiAgICAgICAgaWYgKHRpY2tlci50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aWNrZXIgPSBzcGxpdEFycmF5W2xhc3RJbmRleCAtIDFdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRpY2tlcjtcbiAgICB9XG5cbiAgICBnZXROYW1lKGRvY3VtZW50OiBEb2N1bWVudCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWFpbiBoMVwiKS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgfVxuXG4gICAgaXNDcnlwdG8odXJsOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHVybC5pbmNsdWRlcyhcImNyeXB0b1wiKTtcbiAgICB9XG5cbiAgICBpc0V0Zihkb2N1bWVudDogRG9jdW1lbnQpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGV0ZkNhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNldGYtY2F0ZWdvcnlcIik7XG4gICAgICAgIHJldHVybiAhKGV0ZkNhdGVnb3J5ID09PSBudWxsKTtcbiAgICB9XG5cbiAgICBpc05vUmVzdWx0c1BhZ2UoZG9jdW1lbnQ6IERvY3VtZW50KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCJodG1sIHRpdGxlXCIpXG4gICAgICAgICAgICAudGV4dENvbnRlbnQuaW5jbHVkZXMoXCJQYWdlIG5vdCBmb3VuZFwiKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsibmFtZSIsImJhc2VVcmwiLCJ0aGlzIiwiaXMiLCJjcmVhdGVVcmxGb3JUaWNrZXIiLCJ0aWNrZXIiLCJnZXRUaWNrZXJUeXBlIiwic2l0ZSIsImNyeXB0b0FyZyIsImRvY3VtZW50IiwiaXNFdGYiLCJpc0NyeXB0byIsIngiLCJpc05vUmVzdWx0c1BhZ2UiLCJzeW1ib2wiLCJ0aWNrZXJUeXBlIiwiY29udmVydEh5cGhlbkluVGlja2VyU3ltYm9sIiwicmVtb3ZlRXh0cmFXaGl0ZXNwYWNlIiwicmVwbGFjZSIsImdldEh5cGhlbmF0ZWRUaWNrZXJTeW1ib2wiLCJzdHIiLCJyZWdleCIsIlJlZ0V4cCIsInNwbGl0IiwiZnVsbCIsImZvckVhY2giLCJ3b3JkIiwidHJpbSIsInRvU3RyaW5nIiwiZXF1YWxzIiwidGhhdCIsIm5hbWVFcXVhbHMiLCJ0aGF0TmFtZSIsInRoaXNOYW1lIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsIlZBTElEX1RZUEVTIiwiaXNWYWxpZFR5cGUiLCJFcnJvciIsInZhbHVlIiwidHQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRUaWNrZXIiLCJ1cmwiLCJnZXRUaWNrZXJGcm9tVXJsIiwiZ2V0TmFtZSIsInNwbGl0QXJyYXkiLCJsYXN0SW5kZXgiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiXSwic291cmNlUm9vdCI6IiJ9